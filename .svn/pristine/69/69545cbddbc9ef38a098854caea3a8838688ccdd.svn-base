using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using SAMBHS.Common.BE;
using SAMBHS.Common.BL;
using SAMBHS.Common.Resource;
using FineUI;

namespace SAMBHS.Server.WebClientAdmin.UI.Common
{
    public partial class FRM013A : System.Web.UI.Page
    {
        //RateExchangueBL _objRateExchangueBL = new RateExchangueBL();
        //protected void Page_Load(object sender, EventArgs e)
        //{
        //    if (!IsPostBack)
        //    {
        //        LoadData();
        //        btnClose.OnClientClick = ActiveWindow.GetConfirmHideReference();
        //    }
        //}

        //private void LoadData()
        //{
        //    string Mode = Request.QueryString["Mode"].ToString();
        //    int rateexchangueId= 0;

        //    if (Mode == "New")
        //    {
        //        // Additional logic here.

        //        txtRateExchangue.Focus(true);

        //    }
        //    else if (Mode == "Edit")
        //    {
        //        if (Request.QueryString["rateexchangueId"] != null)
        //            rateexchangueId = int.Parse(Request.QueryString["rateexchangueId"].ToString());

        //        OperationResult objCommonOperationResultedit = new OperationResult();

        //        rateexxhangueDto rateexxhangueDto = _objRateExchangueBL.GetRateExchangueById(ref objCommonOperationResultedit, rateexchangueId);

        //        Session["objEntity"] = rateexxhangueDto;

        //        // Informacion de la persona
        //        txtRateExchangue.Text = rateexxhangueDto.r_Value.ToString();
        //        dpBeginDate.SelectedDate = rateexxhangueDto.d_Date;

        //    }
        //}

        //protected void btnSaveRefresh_Click(object sender, EventArgs e)
        //{
        //    string Mode = Request.QueryString["Mode"].ToString();
        //    string personId = string.Empty;

        //    int intCurrentExecutionNodeId = ((ClientSession)Session["objClientSession"]).i_CurrentExecutionNodeId;
        //    int intCurrentOrganizationId = ((ClientSession)Session["objClientSession"]).i_CurrentOrganizationId;

        //    if (Mode == "New")
        //    {              
        //        // Datos de persona
               
        //        rateexxhangueDto objrateexxhangue = new rateexxhangueDto();
        //        objrateexxhangue.r_Value = float.Parse(txtRateExchangue.Text.ToString());
        //        objrateexxhangue.d_Date = dpBeginDate.SelectedDate;
              
        //        OperationResult objOperationResult1 = new OperationResult();
        //         _objRateExchangueBL.AddRateExchangue(ref objOperationResult1,
        //                                                  objrateexxhangue,
        //                                                  ((ClientSession)Session["objClientSession"]).GetAsList());

        //    }
        //    else if (Mode == "Edit")
        //    {

        //        // Get the entity from the session
        //        rateexxhangueDto objrateexxhangue = (rateexxhangueDto)Session["objEntity"];
                
        //        //rateexxhangueDto objrateexxhangue = new rateexxhangueDto();
        //        objrateexxhangue.r_Value = float.Parse(txtRateExchangue.Text.ToString());
        //        objrateexxhangue.d_Date = dpBeginDate.SelectedDate;
              
        //        // Actualiza persona
        //        OperationResult objOperationResult1 = new OperationResult();
        //        _objRateExchangueBL.UpdateRateExchangue(ref objOperationResult1,
        //                                        objrateexxhangue,
        //                                        ((ClientSession)Session["objClientSession"]).GetAsList());

        //        if (objOperationResult1.ErrorMessage != null)
        //        {
        //            Alert.ShowInTop(objOperationResult1.ErrorMessage);
        //            return;
        //        }
        //        else
        //        {
        //            if (objOperationResult1.Success != 1)
        //            {
        //                Alert.ShowInTop("Error en operación:" + System.Environment.NewLine + objOperationResult1.ExceptionMessage);
        //                return;
        //            }
        //        }
        //    }

        //    // Cerrar página actual y hacer postback en el padre para actualizar
        //    PageContext.RegisterStartupScript(ActiveWindow.GetHidePostBackReference());
        //}

    }
}